---
# yamllint disable rule:line-length
# XXX there is no recursive plugin dep resolution; so we have to do this by
# hand -- ugh
jenkins::plugin_hash:
  credentials:
    version: '2.2.0'
  configuration-as-code:
    version: &casc '1.19'
  configuration-as-code-support:
    # now out of sync with configuration-as-code
    version: '1.18'
  command-launcher:
    version: '1.3'
  # command-launcher deps
  # script-security
  # /command-launcher deps
  support-core:
    version: '2.56'
  # support-core deps
  metrics:
    version: '4.0.2.3'
  jackson2-api:
    version: '2.9.9'
  bouncycastle-api:
    version: '2.17'
  # /support-core deps
  junit:
    version: '1.28'
  script-security:
    version: '1.60'
  # validating-string-parameter:
  #   version: '2.3'
  plain-credentials:
    version: '1.5'
  # plain-credentials deps
  # credentials:
  # plain-credentials -> credentials deps
  icon-shim:
    version: '2.0.3'
  # /plain-credentials deps
  github:
    version: '1.29.4'
  # github deps
  token-macro:
    version: '2.7'
  # credentials
  # plain-credentials
  git:
    version: '3.10.0'
  github-api:
    version: '1.95'
  # github -> git deps
  scm-api:
    version: '2.4.1'
  git-client:
    version: '2.7.7'
  # /github -> git deps
  # /github deps
  github-oauth:
    version: '0.32'
  # github-oauth deps
  # github-api:
  # git
  mailer:
    version: '1.23'
  # /github-oauth deps
  display-url-api:
    version: '2.3.1'
  credentials-binding:
    version: '1.19'
  # credentials-binding deps
  # /credentials-binding deps
  nodelabelparameter:
    version: '1.7.2'
  # nodelabelparameter deps
  # token-macro:
  jquery:
    version: '1.12.4-0'
  # /nodelabelparameter deps
  postbuildscript:
    version: '2.8.1'
  # postbuildscript deps
  # mailer
  maven-plugin:
    version: '3.2'
  # maven-plugin deps
  # javadoc
  # mailer
  # junit
  apache-httpcomponents-client-4-api:
    version: '4.5.5-3.0'
  jsch:
    version: '0.1.55'
  # /maven-plugin deps
  javadoc:
    version: '1.5'
  # /postbuildscript deps
  greenballs:
    version: '1.15'
  rebuild:
    version: '1.31'
  build-user-vars-plugin:
    version: '1.5'
  # build-user-vars-plugin deps
  # mailer
  # /build-user-vars-plugin deps
  envinject:
    version: '2.1.6'
  # envinject deps
  envinject-api:
    version: '1.5'
  # /envinject deps
  purge-build-queue-plugin:
    version: '1.0'
  ssh-credentials:
    version: '1.16'
  # ssh-credentials deps
  # credentials
  # /ssh-credentials deps
  ssh-slaves:
    version: '1.29.4'
  # ssh-slaves deps
  # ssh-credentials
  # credentials
  # /ssh-slaves deps
  antisamy-markup-formatter:
    version: '1.5'
  external-monitor-job:
    version: '1.7'
  # workflow-step-api
  # ssh-credentials
  # credentials
  parameterized-trigger:
    version: '2.35.2'
  conditional-buildstep:
    version: '1.3.6'
  # conditional-buildstep deps
  matrix-project:
    version: '1.14'
  # matrix-project deps
  # script-security
  # junit
  # /matrix-project deps
  # /conditional-buildstep deps
  run-condition:
    version: '1.2'
  # /parameterized-trigger deps
  # kubernetes plugin may (?) have been preventing jenkins 2.7.2 from starting
  # up with this error message in the log:
  # WARNING: could not start trigger while loading project 'ci-ci/jenkins-dm-jobs'
  # java.lang.NullPointerException
  #   at hudson.scheduler.CronTabList.create(CronTabList.java:104)
  # ...
  # INFO: Failed to instantiate optional component org.csanchez.jenkins.plugins.kubernetes.ServiceAccountCredential$DescriptorImpl; skipping
  # kubernetes:
  #   version: '0.7'
  # kubernetes deps
  durable-task:
    version: '1.29'
  # credentials
  # /kubernetes deps
  # dynamic-axis:
  #   version: '1.0.3'
  multiple-scms:
    version: '0.6'
  cloudbees-folder:
    version: '6.8'
  job-dsl:
    version: '1.74'
  structs:
    version: '1.19'
  # /job-dsl deps
  workflow-scm-step:
    version: '2.8'
  # update manager really seems to think these two plugins are needed
  windows-slaves:
    version: '1.4'
  matrix-auth:
    version: '2.4.2'
  ### pipeline/workflow deps
  workflow-aggregator:
    version: '2.6'
  # workflow-aggregator deps
  lockable-resources:
    version: '2.5'
  # /workflow-aggregator deps
  jquery-detached:
    version: '1.2.1'
  workflow-api:
    version: '2.34'
  workflow-support:
    version: '3.3'
  workflow-step-api:
    version: '2.20'
  workflow-job:
    version: '2.32'
  pipeline-stage-view:
    version: '2.11'
  pipeline-rest-api:
    version: '2.11'
  handlebars:
    version: '1.1.1'
  momentjs:
    version: '1.1.1'
  pipeline-build-step:
    version: '2.9'
  ace-editor:
    version: '1.1'
  git-server:
    version: '1.7'
  branch-api:
    version: '2.5.2'
  workflow-durable-task-step:
    version: '2.31'
  pipeline-input-step:
    version: '2.10'
  pipeline-stage-step:
    version: '2.3'
  workflow-basic-steps:
    version: '2.18'
  workflow-cps:
    version: '2.70'
  workflow-cps-global-lib:
    version: '2.13'
  workflow-multibranch:
    version: '2.21'
  pipeline-milestone-step:
    version: '1.3.1'
  pipeline-graph-analysis:
    version: '1.10'
  pipeline-model-declarative-agent:
    version: '1.1.1'
  pipeline-model-api:
    version: &pipev '1.3.8'
  pipeline-model-definition:
    version: *pipev
  pipeline-model-extensions:
    version: *pipev
  pipeline-stage-tags-metadata:
    version: *pipev
  # /pipeline/workflow deps
  copyartifact:
    version: '1.42.1'
  saferestart:
    version: '0.3'
  docker-workflow:
    version: '1.18'
  # docker-workflow deps
  docker-commons:
    version: '1.15'
  # script-security
  # workflow-cps
  # workflow-step-api
  # workflow-durable-task-step
  # /docker-workflow deps
  # docker-commons deps
  authentication-tokens:
    version: '1.3'
  # credentials
  # icon-shim
  # /docker-commons deps
  #   dockerhub-notification provides dockerHubTrigger() in job-dsl
  dockerhub-notification:
    version: '2.4.0'
  # dockerhub-notification deps
  async-http-client:
    version: '1.9.40.0'
  # docker-commons
  # /dockerhub-notification deps
  ssh-agent:
    version: '1.17'
  groovy:
    version: '2.2'
  # what is github-branch-source a dep of?
  github-branch-source:
    version: '2.5.3'
  blueocean:
    version: &bov '1.16.0'
  # blueocean deps
  # >= 1.4.0
  blueocean-core-js:
    version: *bov
  jenkins-design-language:
    version: *bov
  # />= 1.4.0
  blueocean-autofavorite:
    version: '1.2.4'
  blueocean-commons:
    version: *bov
  blueocean-config:
    version: *bov
  blueocean-dashboard:
    version: *bov
  blueocean-display-url:
    version: '2.3.0'
  blueocean-events:
    version: *bov
  blueocean-github-pipeline:
    version: *bov
  blueocean-git-pipeline:
    version: *bov
  blueocean-i18n:
    version: *bov
  blueocean-jwt:
    version: *bov
  blueocean-personalization:
    version: *bov
  blueocean-pipeline-api-impl:
    version: *bov
  blueocean-pipeline-editor:
    version: *bov
  blueocean-pipeline-scm-api:
    version: *bov
  blueocean-rest:
    version: *bov
  blueocean-rest-impl:
    version: *bov
  blueocean-web:
    version: *bov
  blueocean-bitbucket-pipeline:
    version: *bov
  blueocean-jira:
    version: *bov
  blueocean-executor-info:
    version: *bov
  favorite:
    version: '2.3.2'
  pubsub-light:
    version: '1.12'
  sse-gateway:
    version: '1.17'
  variant:
    version: '1.2'
  jira:
    version: '3.0.7'
  htmlpublisher:
    version: '1.18'
  cloudbees-bitbucket-branch-source:
    version: '2.4.4'
  # cloudbees-bitbucket-branch-source deps
  handy-uri-templates-2-api:
    version: '2.1.7-1.0'
  # /cloudbees-bitbucket-branch-source deps
  mercurial:
    version: '2.6'
  # /blueocean deps
  pipeline-utility-steps:
    version: '2.3.0'
  # pipeline-utility-steps deps
  # workflow-cps
  # workflow-step-api
  # script-security
  # /pipeline-utility-steps deps
  build-timeout:
    version: '1.19'
  # build-timeout deps
  # token-macro
  # /build-timeout deps
  jdk-tool:
    version: '1.2'
jenkinsx::casc:
  configuration-as-code:
    version: 1
    deprecated: warn
    restricted: warn
    unknown: warn
  jenkins:
    numExecutors: 0
    slaveAgentPort: 55555
    agentProtocols:
      # - "CLI2-connect"
      - "JNLP4-connect"
      - "Ping"
    # Agent â†’ Master Access Contro
    remotingSecurity:
      enabled: true
    quietPeriod: 0
    # https://github.com/jenkinsci/configuration-as-code-plugin/issues/408
    crumbIssuer:
      standard:
        excludeClientIPFromCrumb: true
  unclassified:
    location:
      url: "https://${jenkins_fqdn}"
      adminAddress: "${admin_email}"
  security:
    # Enable CLI over Remoting
    remotingCLI:
      enabled: false
    # job-dsl security config appears broken:
    # https://github.com/jenkinsci/configuration-as-code-plugin/issues/253
    GlobalJobDslSecurityConfiguration:
      useScriptSecurity: false
