---
# yamllint disable rule:line-length
lookup_options:
  jenkinsx::casc:
    merge:
      strategy: deep
      merge_hash_arrays: false
      sort_merged_arrays: false
jenkinsx::casc:
  credentials:
    system:
      domainCredentials:
        - credentials:
            - string:
                id: slack-default-channel
                scope: GLOBAL
                description: Default slack channel
                secret: dmj-jhoblitt-curly
            - string:
                id: slack-channel-prefix
                scope: GLOBAL
                description: Prefix for generated slack channels
                secret: dmjjc
            - string:
                id: github-api-token-sqreadmin
                scope: GLOBAL
                description: github API personal access token (sqreadmincurly)
                secret: "${github_api_token}"
            - basicSSHUserPrivateKey:
                id: github-jenkins-versiondb
                scope: GLOBAL
                description: github provingground-curly/versiondb deploy key
                username: git
                privateKeySource:
                  directEntry:
                    privateKey: "${versiondb_ssh_private_key}"
            - usernamePassword:
                id: dockerhub-sqreadmin
                scope: GLOBAL
                description: dockerhub (sqreadmincurly)
                username: "${dockerhub_user}"
                password: "${dockerhub_pass}"
files:
  /etc/jenkins/vault:
    content: |
      CASC_VAULT_TOKEN=ENC[PKCS7,MIIBiQYJKoZIhvcNAQcDoIIBejCCAXYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAdyFJxUzzs8ZtJPqX7G3bnvS0pKz2otDL8b17q8m8853jzofz2staPcFUDa+dKKGOKAf1ELTX33s2C3JA/Ly/p8pVRKR3Oh+GzEx92/xykZ8pXttXLxh4jEltOXpgiDvrcCdfC5vjokSOmK8PWMyJbFdK/aFqB+KJyMbgOeEIdu+5VOcyyHCUylPNC0Du3iui5lUXo9T2vAx9xVVJV93cyW9mOeYtvYKWfkQzoRiVfJoeRZqeyUzGadNQ9SeHJOnfUjSyHMNHEzAUhBfwutRTHl/XpUw94z/A0X7J1DfiWzxcNlJumzdhO8N9uAIoHjjtQ2qAuQVbeLL0eFGqzfNX/jBMBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBB8aLRN1tedXfv+Mifp3K+ogCDAfYCWt+gLWFyJXqUrVYAjmn1VJKzZ+tB7P4um4ZtTAA==]
      CASC_VAULT_PATHS=secret/dm/square/jenkins/jhoblitt-curly/scipipe-publish,secret/dm/square/jenkins/jhoblitt-curly/slack,secret/dm/square/jenkins/jhoblitt-curly/ghslacker,secret/dm/square/jenkins/jhoblitt-curly/github_oauth,secret/dm/square/jenkins/jhoblitt-curly/github_api,secret/dm/square/jenkins/jhoblitt-curly/dockerhub,secret/dm/square/jenkins/jhoblitt-curly/versiondb_ssh
      CASC_VAULT_URL=https://vault.lsst.codes
      CASC_VAULT_ENGINE_VERSION=2
    owner: jenkins
    group: jenkins
    mode: '0640'
